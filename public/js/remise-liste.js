!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var a=e();for(var n in a)("object"==typeof exports?exports:t)[n]=a[n]}}(self,(function(){return function(){"use strict";return $((function(){var t=$(".remise-list-table");if(t.length)t.DataTable({processing:!0,serverSide:!0,ajax:{url:baseUrl+"remises-liste"},columns:[{data:""},{data:"numero"},{data:"adherant_prenom"},{data:"montant"},{data:"type"},{data:"created_at"},{data:"statut"},{data:"note"}],columnDefs:[{className:"control",responsivePriority:2,orderable:!1,targets:0,render:function(t,e,a,n){return""}},{targets:1,render:function(t,e,a,n){var r=a.numero;return'<a href="'+baseUrl+"facture/transaction/"+r+'">#'+r+"</a>"}},{targets:2,responsivePriority:4,render:function(t,e,a,n){var r=a.prenom,s=r.match(/\b\w/g)||[];s=((s.shift()||"")+(s.pop()||"")).toUpperCase();return'<div class="d-flex flex-column"><span class="fw-medium">'+r+'</span><small class="text-truncate text-muted"></small></div>'}},{targets:3,render:function(t,e,a,n){return'<div class="d-flex justify-content-start align-items-center">\n          <div class="avatar-wrapper">\n          <div class="avatar me-2">\n\n          <img src="'.concat(baseUrl+a.remise,'" alt="" data-id="').concat(a.remise,'" data-bs-toggle="modal" data-bs-target="#pricingModal" class="show-modal rounded-pill">\n          </div>\n          </div>\n            </div>')}},{targets:4,render:function(t,e,a,n){var r=a.montant;return'<span class="d-none">'+r+"</span>"+r+" CFA"}},{targets:5,orderable:!0,render:function(t,e,a,n){new Date(a.created_at);return moment(a.created_at).format("DD/MM/YYYY")}},{targets:6,orderable:!1,render:function(t,e,a,n){var r=a.statut;if("Terminee"===r){var s="bg-label-success";return'<span class="badge '+s+' text-uppercase">'+r+"</span>"}return"Encours"===r?'<span class="badge '+(s="bg-label-primary")+' text-uppercase">'+r+" </span>":'<span class="badge '+(s="bg-label-danger")+' text-uppercase"> '+r+" </span>"}},{targets:-1,title:"Actions",searchable:!1,orderable:!1,render:function(t,e,a,n){return'<div class="d-flex align-items-center"><a href="'+baseUrl+"facture/transaction/"+a.numero+'" data-bs-toggle="tooltip" class="text-body" data-bs-placement="top" title="Preview Invoice"><i class="ti ti-eye mx-2 ti-sm"></i></a>'+'<button class="btn btn-sm btn-icon edit-record" data-id="'.concat(a.numero,'" ><a href="transaction/').concat(a.numero,'"><i class="ti ti-edit"></i></a></button>')+'<button class="btn btn-sm btn-icon delete-transaction" data-id="'.concat(a.numero,'"><i class="ti ti-trash"></i></button>')+"</div>"}}],order:[[1,"desc"]],dom:'<"row mx-1"<"col-12 col-md-6 d-flex align-items-center justify-content-center justify-content-md-start gap-2"l<"dt-action-buttons text-xl-end text-lg-start text-md-end text-start mt-md-0 mt-3"B>><"col-12 col-md-6 d-flex align-items-center justify-content-end flex-column flex-md-row pe-3 gap-md-3"f<"invoice_status mb-3 mb-md-0">>>t<"row mx-2"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>',language:{sLengthMenu:"Show _MENU_",search:"",searchPlaceholder:"Recherch√© une Transaction"},buttons:[{text:'<i class="ti ti-plus me-md-1"></i><span class="d-md-inline-block d-none">Ajouter une Transaction</span>',className:"btn btn-primary",action:function(t,e,a,n){window.location=baseUrl+"transaction-list/create"}}],responsive:{details:{display:$.fn.dataTable.Responsive.display.modal({header:function(t){return"Details de "+t.data().prenom}}),type:"column",renderer:function(t,e,a){var n=$.map(a,(function(t,e){return""!==t.title?'<tr data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><td>'+t.title+":</td> <td>"+t.data+"</td></tr>":""})).join("");return!!n&&$('<table class="table"/><tbody />').append(n)}}},initComplete:function(){this.api().columns(6).every((function(){}))}});t.on("draw.dt",(function(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(t){return new bootstrap.Tooltip(t,{boundary:document.body})}))})),$(document).on("click",".show-modal",(function(){document.getElementById("imageRemise").innerHTML="";var t=$(this).attr("data-id"),e=document.createElement("img");e.setAttribute("src","".concat(t)),document.getElementById("imageRemise").appendChild(e)}))})),{}}()}));